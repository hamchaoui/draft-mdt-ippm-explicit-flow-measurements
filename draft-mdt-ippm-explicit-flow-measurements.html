<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Explicit Flow Measurements Techniques</title>
<meta content="Mauro Cociglio" name="author">
<meta content="Alexandre Ferrieux" name="author">
<meta content="Giuseppe Fioccola" name="author">
<meta content="Igor Lubashev" name="author">
<meta content="Fabio Bulgarella" name="author">
<meta content="Isabelle Hamchaoui" name="author">
<meta content="Massimo Nilo" name="author">
<meta content="Dmitri Tikhonov" name="author">
<meta content="
       This document describes protocol independent methods called Explicit Flow Measurement 
Techniques that employ one or two bits for loss and delay measurement in order to 
allow endpoints to signal these metrics in a way that can be used by network devices 
to measure and locate the source of the loss or the delay. Different alternatives
are considered within this document. The signaling methods apply to all protocols 
but they are especially valuable when applied to protocols that encrypt transport 
header and do not allow an alternative method for loss detection. The methods here 
described can be used to enhance the spin bit mechanism or alternatively. 
    " name="description">
<meta content="xml2rfc 2.47.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-mdt-ippm-explicit-flow-measurements-latest" name="ietf.draft">
<link href="draft-mdt-ippm-explicit-flow-measurements.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@import url('https://martinthomson.github.io/i-d-template/fonts.css');

html {
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --small-font-size: 14.5px;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  font-family: "Cabin Condensed", sans-serif;
  font-weight: 600;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
#title {
  padding: 1em 0 0.2em;
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1, h2, h3 {
  font-size: 22px;
  line-height: 26px;
}
h4, h5, h6 {
  font-size: 18px;
  line-height: 22px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
}
#abstract+p, #abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 18px;
  line-height: 24px;
}
p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}
dd.break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href].selfRef {
  color: var(--text-color);
}
a[href] {
  color: var(--link-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px 'Oxygen Mono', monospace;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
}
@media screen {
  pre {
    display: inline-block;
    overflow-x: auto;
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  pre + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
  table {
    display: inline-block;
    overflow-x: auto;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
tr:nth-child(2n) > td {
  background-color: var(--background-color);
}
tr:nth-child(2n+1) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n) > td {
  background-color: var(--highlight-color);
}
thead+tbody > tr:nth-child(2n+1) > td {
  background-color: var(--background-color);
}
table caption {
  margin: 0;
  padding: 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  visibility: hidden;
  user-select: none;
}
a.pilcrow[href] { color: #ddd; }
a.pilcrow[href]:hover { text-decoration: none; }
@media screen {
  :hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 8em;
}
#identifiers dt {
  width: var(--identifier-width);
  margin: 0;
  clear: left;
  float: left;
  text-align: right;
}
#identifiers dd {
  margin: 0 0 0 calc(1em + var(--identifier-width));
  min-width: 5em;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
#toc nav ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
#toc nav li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
#toc a.xref {
  white-space: normal;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 500px) {
  .index ul {
    column-count: 2;
    column-gap: 20px;
  }
  .index ul ul {
    column-count: 1;
    column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}
address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc.active {
      opacity: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 8px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active nav {
    display: block;
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin-top: 2px;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  #toc nav > ul  {
    margin-bottom: 2em;
  }
  #toc ul {
    margin: 0 0 0 4px;
    font-size: var(--small-font-size);
  }
  #toc ul p, #toc ul li {
    margin: 2px 0;
    line-height: 22px;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Changes introduced to fix issues found during implementation */

/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}

/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin: 8px 0.5em 0;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table .text-left, table .text-left {
  text-align: left;
}
table .text-center, table .text-center {
  text-align: center;
}
table .text-right, table .text-right {
  text-align: right;
}

/* Make the alternative author contact information look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 20em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Give the table caption label the same styling as the figcaption */

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  dd {
    page-break-before: avoid;
  }
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">Delay and Loss bits</td>
<td class="right">August 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Cociglio, et al.</td>
<td class="center">Expires 21 February 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">IPPM</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-mdt-ippm-explicit-flow-measurements-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-08-20" class="published">20 August 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-02-21">21 February 2021</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Cociglio</div>
<div class="org">Telecom Italia</div>
</div>
<div class="author">
      <div class="author-name">A. Ferrieux</div>
<div class="org">Orange Labs</div>
</div>
<div class="author">
      <div class="author-name">G. Fioccola</div>
<div class="org">Huawei Technologies</div>
</div>
<div class="author">
      <div class="author-name">I. Lubashev</div>
<div class="org">Akamai Technologies</div>
</div>
<div class="author">
      <div class="author-name">F. Bulgarella</div>
<div class="org">Telecom Italia</div>
</div>
<div class="author">
      <div class="author-name">I. Hamchaoui</div>
<div class="org">Orange Labs</div>
</div>
<div class="author">
      <div class="author-name">M. Nilo</div>
<div class="org">Telecom Italia</div>
</div>
<div class="author">
      <div class="author-name">D. Tikhonov</div>
<div class="org">LiteSpeed Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Explicit Flow Measurements Techniques</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document describes protocol independent methods called Explicit Flow Measurement 
Techniques that employ one or two bits for loss and delay measurement in order to 
allow endpoints to signal these metrics in a way that can be used by network devices 
to measure and locate the source of the loss or the delay. Different alternatives
are considered within this document. The signaling methods apply to all protocols 
but they are especially valuable when applied to protocols that encrypt transport 
header and do not allow an alternative method for loss detection. The methods here 
described can be used to enhance the spin bit mechanism or alternatively.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Discussion of this document takes place on the
  IPPM Working Group mailing list (ippm@ietf.org),
  which is archived at <span><a href="https://mailarchive.ietf.org/arch/browse/ippm/">https://mailarchive.ietf.org/arch/browse/ippm/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">Source for this draft and an issue tracker can be found at
  <span><a href="https://github.com/igorlord/draft-xxx-ippm-flow-measurements">https://github.com/igorlord/draft-xxx-ippm-flow-measurements</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 21 February 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-notational-conventions" class="xref">Notational Conventions</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-spin-bit-and-delay-bit-mech" class="xref">Spin bit and Delay bit mechanism</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-delay-sample" class="xref">Delay Sample</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1.2.1">
                    <p id="section-toc.1-1.3.2.1.2.1.1" class="keepWithNext"><a href="#section-3.1.1" class="xref">3.1.1</a>.  <a href="#name-generation-phase" class="xref">Generation phase</a><a href="#section-toc.1-1.3.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.1.2.2">
                    <p id="section-toc.1-1.3.2.1.2.2.1"><a href="#section-3.1.2" class="xref">3.1.2</a>.  <a href="#name-reflection-phase" class="xref">Reflection phase</a><a href="#section-toc.1-1.3.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-using-the-spin-bit-and-dela" class="xref">Using the Spin bit and Delay bit for Hybrid RTT Measurement</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2.2.1">
                    <p id="section-toc.1-1.3.2.2.2.1.1"><a href="#section-3.2.1" class="xref">3.2.1</a>.  <a href="#name-end-to-end-rtt-measurement" class="xref">End-to-end RTT measurement</a><a href="#section-toc.1-1.3.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2.2.2">
                    <p id="section-toc.1-1.3.2.2.2.2.1"><a href="#section-3.2.2" class="xref">3.2.2</a>.  <a href="#name-half-rtt-measurement" class="xref">Half-RTT measurement</a><a href="#section-toc.1-1.3.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.2.2.3">
                    <p id="section-toc.1-1.3.2.2.2.3.1"><a href="#section-3.2.3" class="xref">3.2.3</a>.  <a href="#name-intra-domain-rtt-measuremen" class="xref">Intra-domain RTT measurement</a><a href="#section-toc.1-1.3.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-observers-algorithm-and-wai" class="xref">Observer's algorithm and Waiting Interval</a><a href="#section-toc.1-1.3.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-adding-a-loss-signal-for-pa" class="xref">Adding a Loss signal for Packet loss measurement</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-single-bit-packet-loss-meas" class="xref">Single bit Packet Loss Measurement</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-round-trip-packet-loss-meas" class="xref">Round Trip Packet Loss Measurement</a><a href="#section-toc.1-1.5.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-measurement-algorithm" class="xref">Measurement algorithm</a><a href="#section-toc.1-1.5.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="xref">5.2.1</a>.  <a href="#name-observers-logic-for-one-bit" class="xref">Observer's logic for one bit loss signal</a><a href="#section-toc.1-1.5.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-two-bits-packet-loss-measur" class="xref">Two Bits Packet Loss Measurement using Loss Event bit</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-description-of-the-mechanis" class="xref">Description of the mechanism</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.6.2.1.2.1">
                    <p id="section-toc.1-1.6.2.1.2.1.1"><a href="#section-6.1.1" class="xref">6.1.1</a>.  <a href="#name-setting-the-square-bit-on-o" class="xref">Setting the square Bit on Outgoing Packets</a><a href="#section-toc.1-1.6.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.1.2.2">
                    <p id="section-toc.1-1.6.2.1.2.2.1"><a href="#section-6.1.2" class="xref">6.1.2</a>.  <a href="#name-setting-the-loss-event-bit-" class="xref">Setting the Loss Event Bit on Outgoing Packets</a><a href="#section-toc.1-1.6.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-using-the-loss-bits-for-pas" class="xref">Using the Loss Bits for Passive Loss Measurement</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2.2.1">
                    <p id="section-toc.1-1.6.2.2.2.1.1"><a href="#section-6.2.1" class="xref">6.2.1</a>.  <a href="#name-end-to-end-loss" class="xref">End-To-End Loss</a><a href="#section-toc.1-1.6.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2.2.2">
                    <p id="section-toc.1-1.6.2.2.2.2.1"><a href="#section-6.2.2" class="xref">6.2.2</a>.  <a href="#name-upstream-loss" class="xref">Upstream Loss</a><a href="#section-toc.1-1.6.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2.2.3">
                    <p id="section-toc.1-1.6.2.2.2.3.1"><a href="#section-6.2.3" class="xref">6.2.3</a>.  <a href="#name-correlating-end-to-end-and-" class="xref">Correlating End-to-End and Upstream Loss</a><a href="#section-toc.1-1.6.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2.2.4">
                    <p id="section-toc.1-1.6.2.2.2.4.1"><a href="#section-6.2.4" class="xref">6.2.4</a>.  <a href="#name-downstream-loss" class="xref">Downstream Loss</a><a href="#section-toc.1-1.6.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.6.2.2.2.5">
                    <p id="section-toc.1-1.6.2.2.2.5.1"><a href="#section-6.2.5" class="xref">6.2.5</a>.  <a href="#name-observer-loss" class="xref">Observer Loss</a><a href="#section-toc.1-1.6.2.2.2.5.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-two-bits-packet-loss-measure" class="xref">Two Bits Packet Loss Measurement using Alternate Marking</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-description-of-the-mechanism" class="xref">Description of the mechanism</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="xref">7.1.1</a>.  <a href="#name-setting-the-square-bit-q-on" class="xref">Setting the square bit (Q) on outgoing packets</a><a href="#section-toc.1-1.7.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.1.2.2">
                    <p id="section-toc.1-1.7.2.1.2.2.1"><a href="#section-7.1.2" class="xref">7.1.2</a>.  <a href="#name-setting-the-reflection-squa" class="xref">Setting the reflection square bit (R) on outgoing packets</a><a href="#section-toc.1-1.7.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-observers-logic-and-passive" class="xref">Observer's logic and Passive Loss Measurements</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-7.2.1" class="xref">7.2.1</a>.  <a href="#name-upstream-one-way-loss" class="xref">Upstream one-way loss</a><a href="#section-toc.1-1.7.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a href="#section-7.2.2" class="xref">7.2.2</a>.  <a href="#name-three-quarters-connection-l" class="xref">Three-quarters connection loss</a><a href="#section-toc.1-1.7.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.2.2.3">
                    <p id="section-toc.1-1.7.2.2.2.3.1"><a href="#section-7.2.3" class="xref">7.2.3</a>.  <a href="#name-full-one-way-loss-in-the-op" class="xref">Full one-way loss in the opposite direction</a><a href="#section-toc.1-1.7.2.2.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.2.2.4">
                    <p id="section-toc.1-1.7.2.2.2.4.1"><a href="#section-7.2.4" class="xref">7.2.4</a>.  <a href="#name-half-round-trip-loss" class="xref">Half round-trip loss</a><a href="#section-toc.1-1.7.2.2.2.4.1" class="pilcrow">¶</a></p>
</li>
                  <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.2.2.5">
                    <p id="section-toc.1-1.7.2.2.2.5.1"><a href="#section-7.2.5" class="xref">7.2.5</a>.  <a href="#name-downstream-one-way-loss" class="xref">Downstream one-way loss</a><a href="#section-toc.1-1.7.2.2.2.5.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-enhancement-of-reflection-p" class="xref">Enhancement of reflection period size computation</a><a href="#section-toc.1-1.7.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="xref">7.4</a>.  <a href="#name-improvement-of-the-resilien" class="xref">Improvement of the resilience to out of sequence</a><a href="#section-toc.1-1.7.2.4.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-ecn-echo-event-bit" class="xref">ECN-Echo Event Bit</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-setting-the-ecn-echo-event-" class="xref">Setting the ECN-Echo Event Bit on Outgoing Packets</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-using-e-bit-for-passive-ecn" class="xref">Using E Bit for Passive ECN-Reported Congestion Measurement</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-protocol-ossification-consi" class="xref">Protocol Ossification Considerations</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-examples-of-application" class="xref">Examples of application</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-quic" class="xref">QUIC</a><a href="#section-toc.1-1.10.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-tcp" class="xref">TCP</a><a href="#section-toc.1-1.10.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-optimistic-ack-attack" class="xref">Optimistic ACK Attack</a><a href="#section-toc.1-1.11.2.1.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-privacy-considerations" class="xref">Privacy Considerations</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-change-log" class="xref">Change Log</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-contributors" class="xref">Contributors</a><a href="#section-toc.1-1.15.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="xref">16</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.16.1" class="pilcrow">¶</a></p>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-17" class="xref">17</a>. <a href="#name-references" class="xref">References</a><a href="#section-toc.1-1.17.1" class="pilcrow">¶</a></p>
<ul class="ulEmpty compact toc">
<li class="ulEmpty compact toc" id="section-toc.1-1.17.2.1">
                <p id="section-toc.1-1.17.2.1.1"><a href="#section-17.1" class="xref">17.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.17.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="ulEmpty compact toc" id="section-toc.1-1.17.2.2">
                <p id="section-toc.1-1.17.2.2.1"><a href="#section-17.2" class="xref">17.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.17.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="ulEmpty compact toc" id="section-toc.1-1.18">
            <p id="section-toc.1-1.18.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a><a href="#section-toc.1-1.18.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Packet loss and delay are hard and pervasive problems of day-to-day network operation.
Proactively detecting, measuring, and locating them is crucial to maintaining high
QoS and timely resolution of crippling end-to-end throughput issues. To this
effect, in a TCP-dominated world, network operators have been heavily relying on
information present in the clear in TCP headers: sequence and acknowledgement
numbers and SACKs when enabled (see <span>[<a href="#RFC8517" class="xref">RFC8517</a>]</span>). These allow for quantitative
estimation of packet loss and delay by passive on-path observation. Additionally, the
problem can be quickly identified in the network path by moving the passive observer around.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">With encrypted protocols, the equivalent transport headers are encrypted and
passive packet loss and delay observations are not possible, as described in
<span>[<a href="#TRANSPORT-ENCRYPT" class="xref">TRANSPORT-ENCRYPT</a>]</span>.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Measuring loss and delay between similar endpoints cannot be relied upon to evaluate
encrypted protocol loss and  delay. Different protocols could be routed by the network
differently and the fraction of Internet traffic delivered using protocols other
than TCP is increasing every year.  So it is imperative to measure packet loss and delay
experienced by encrypted protocol users directly.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">This document defines Explicit Flow Measurement Techniques, that are hybrid measurement 
path signals to be embedded into a transport layer protocol, explicitly intended 
for exposing end-to-end RTT and loss rate information to measurement devices on-path. 
The hybrid measurements described here are aligned with the definition in <span>[<a href="#IPM-Methods" class="xref">IPM-Methods</a>]</span>.
These measurement mechanisms are applicable to any transport-layer protocol, 
and, as an example it is reported how to bind the signals to a variety of 
IETF transport protocols, in particular to QUIC and TCP.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">The Explicit Flow Measurement represent all the methods that make possible 
the measurements otherwise difficult with encrypted protocols and
therefore explicitly expose the information for on-path observers. 
The application of the spin bit to QUIC is described in
<span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span> which adds the spin bit to QUIC for
experimentation purposes. The spin bit can be considered as 
the first example of Explicit Flow Measurement.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">Following the recommendation in <span>[<a href="#RFC8558" class="xref">RFC8558</a>]</span> of making path signals explicit,
this document proposes adding a delay bit and/or one or two explicit loss bits 
to the clear portion of the protocol headers to restore network operators' ability 
to maintain high QoS. These bits can be added to an unencrypted portion of a header 
belonging to any protocol layer, e.g. IP (see <span>[<a href="#IP" class="xref">IP</a>]</span>) and IPv6 (see <span>[<a href="#IPv6" class="xref">IPv6</a>]</span>) headers or
extensions, such as <span>[<a href="#IPv6AltMark" class="xref">IPv6AltMark</a>]</span>, UDP surplus space (see <span>[<a href="#UDP-OPTIONS" class="xref">UDP-OPTIONS</a>]</span> and
<span>[<a href="#UDP-SURPLUS" class="xref">UDP-SURPLUS</a>]</span>), reserved bits in a QUIC v1 header (see <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>).<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">The loss signal is not designed for use in automated control of the network in
environments where loss bits are set by untrusted hosts, Instead, the signal is
to be used for troubleshooting individual flows as well as for monitoring the
network by aggregating information from multiple flows and raising operator
alarms if aggregate statistics indicate a potential problem.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">Note that spin bit, delay bit and loss bits explained in this
document are inspired by <span>[<a href="#AltMark" class="xref">AltMark</a>]</span>.  This is also mentioned
in <span>[<a href="#I-D.trammell-quic-spin" class="xref">I-D.trammell-quic-spin</a>]</span>, <span>[<a href="#I-D.trammell-tsvwg-spin" class="xref">I-D.trammell-tsvwg-spin</a>]</span> 
and <span>[<a href="#I-D.trammell-ippm-spin" class="xref">I-D.trammell-ippm-spin</a>]</span>.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">Additional details about the Performance Measurements for
QUIC are also described in the paper <span>[<a href="#ANRW19-PM-QUIC" class="xref">ANRW19-PM-QUIC</a>]</span>.<a href="#section-1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="conventions">
<section id="section-2">
      <h2 id="name-notational-conventions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
      </h2>
<p id="section-2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",
"SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be
interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="spin-bit-and-delay-bit-mechanism">
<section id="section-3">
      <h2 id="name-spin-bit-and-delay-bit-mech">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-spin-bit-and-delay-bit-mech" class="section-name selfRef">Spin bit and Delay bit mechanism</a>
      </h2>
<p id="section-3-1"><span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span> introduces an explicit per-flow transport-layer signal 
for hybrid measurement of end-to-end RTT.  This signal consists of a spin bit 
which oscillates once per end-to-end RTT. It was also discussed the addition 
of a two-bit Valid Edge Counter (VEC), which compensates for loss and reordering
of the spin bit to increase fidelity of the signal in less than ideal network
conditions.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">In this document it is introduced the delay bit, that is a single bit
signal that can be used together with the spin bit by passive
observers to measure the RTT of a network flow, avoiding the spin bit
ambiguities that arise as soon as network conditions deteriorate.
Unlike the spin bit, which is actually set in every packet
transmitted on the network, the delay bit is set only once per round
trip.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The main idea is to have a single packet, with a second marked bit
(the delay bit), that bounces between client and server during the
entire connection life.  This single packet is called Delay Sample.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">A simple observer placed in an intermediate point, tracking the delay
sample and the relative timestamp in every spin bit period, can
measure the end-to-end round trip delay of the connection.  In the
same way as seen with the spin bit, it is possible to carry out other
types of measurements using this additional bit.  The next paragraphs
give an overview of the observer capabilities.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">In order to describe the delay sample working mechanism in detail, we
have to distinguish two different phases which take part in the delay
bit lifetime: initialization and reflection.  The initialization is
the generation of the delay sample, while the reflection realizes the
bounce behavior of this single packet between the two endpoints.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">The next figure describes the Delay bit mechanism: the first bit is
the spin bit and the second one is the delay bit.<a href="#section-3-6" class="pilcrow">¶</a></p>
<span id="name-figure-1-spin-bit-and-delay"></span><figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-3-7.1">
<pre>
      +--------+   --  --  --  --  --   +--------+
      |        |       -----------&gt;     |        |
      | Client |                        | Server |
      |        |      &lt;-----------      |        |
      +--------+   --  --  --  --  --   +--------+

      (a) No traffic at beginning.

      +--------+   00  00  01  --  --   +--------+
      |        |       -----------&gt;     |        |
      | Client |                        | Server |
      |        |      &lt;-----------      |        |
      +--------+   --  --  --  --  --   +--------+

       (b) The Client starts sending data and
        sets the first packet as Delay Sample.

      +--------+   00  00  00  00  00   +--------+
      |        |       -----------&gt;     |        |
      | Client |                        | Server |
      |        |      &lt;-----------      |        |
      +--------+   --  --  01  00  00   +--------+

       (c) The Server starts sending data
        and reflects the Delay Sample.

      +--------+   10  10  11  00  00   +--------+
      |        |       -----------&gt;     |        |
      | Client |                        | Server |
      |        |      &lt;-----------      |        |
      +--------+   00  00  00  00  00   +--------+

      (d) The Client inverts the spin bit and
       reflects the Delay Sample.

      +--------+   10  10  10  10  10   +--------+
      |        |       -----------&gt;     |        |
      | Client |                        | Server |
      |        |      &lt;-----------      |        |
      +--------+   00  00  11  10  10   +--------+

      (e) The Server reflects the Delay Sample.

      +--------+   00  00  01  10  10   +--------+
      |        |       -----------&gt;     |        |
      | Client |                        | Server |
      |        |      &lt;-----------      |        |
      +--------+   10  10  10  10  10   +--------+

      (f) The client reverts the spin
       bit and reflects the Delay Sample.
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-figure-1-spin-bit-and-delay" class="selfRef">Figure 1 : Spin bit and Delay bit</a>
        </figcaption></figure>
<div id="delay-sample">
<section id="section-3.1">
        <h3 id="name-delay-sample">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-delay-sample" class="section-name selfRef">Delay Sample</a>
        </h3>
<p id="section-3.1-1">The Delay Sample mechanism consists of a generation and a reflection phase.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<div id="generation-phase">
<section id="section-3.1.1">
          <h4 id="name-generation-phase">
<a href="#section-3.1.1" class="section-number selfRef">3.1.1. </a><a href="#name-generation-phase" class="section-name selfRef">Generation phase</a>
          </h4>
<p id="section-3.1.1-1">During this first phase, endpoints play different roles.  First of
all a single delay sample must be bouncing per round trip period (and
so per spin bit period).  According to that statement and in order to
simplify the general algorithm, the delay sample generation is in
charge of just one of the two endpoints:<a href="#section-3.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.1.1-2.1">the client, when connection starts and spin bit is set to 0,
initializes the delay bit of the first packet to 1, so it becomes
the delay sample for that marking period.  Only this packet is
marked with the delay bit set to 1 for this round trip period; the
other ones will carry only the spin bit;<a href="#section-3.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-3.1.1-2.2">the server never initializes the delay bit to 1; its only task is
to reflect the incoming delay bit into the next outgoing packet
only if certain conditions occur.<a href="#section-3.1.1-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-3.1.1-3">Theoretically, in absence of network impairments, the delay sample
should bounce between client and server continuously, for the entire
duration of the connection.  Actually, that is highly unlikely mainly
for two different reasons:<a href="#section-3.1.1-3" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3.1.1-4">
            <li id="section-3.1.1-4.1">the packet carrying the delay bit might be lost during its journey
on the network which is unreliable by definition;<a href="#section-3.1.1-4.1" class="pilcrow">¶</a>
</li>
            <li id="section-3.1.1-4.2">one of the two endpoints could stop or delay sending data because
the application is limiting the amount of traffic transmitted;<a href="#section-3.1.1-4.2" class="pilcrow">¶</a>
</li>
          </ol>
<p id="section-3.1.1-5">To deal with these problems, the algorithm provides a procedure to
regenerate the delay sample and to inform a possible observer that a
problem has occurred, and then the measurement has to be restarted.<a href="#section-3.1.1-5" class="pilcrow">¶</a></p>
<div id="the-recovery-process">
<section id="section-3.1.1.1">
            <h5 id="name-the-recovery-process">
<a href="#section-3.1.1.1" class="section-number selfRef">3.1.1.1. </a><a href="#name-the-recovery-process" class="section-name selfRef">The recovery process</a>
            </h5>
<p id="section-3.1.1.1-1">In order to relieve the server from tasks that go beyond the mere
reflection of the sample, even in this case the recovery process
belongs to the client.  A fundamental assumption is that a delay
sample is strictly related to its spin bit period.  Considering this
rule, the client verifies that every spin bit period ends with its
delay sample.  If that does not happen and a marking period
terminates without a delay sample, the client waits a further empty
period; then, in the following period, it reinitializes the mechanism
by setting the delay bit of the first outgoing packet to 1, making it
the new delay sample.  The empty period is needed to inform the
intermediate points that there was an issue and a new delay
measurement session is starting.<a href="#section-3.1.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="reflection-phase">
<section id="section-3.1.2">
          <h4 id="name-reflection-phase">
<a href="#section-3.1.2" class="section-number selfRef">3.1.2. </a><a href="#name-reflection-phase" class="section-name selfRef">Reflection phase</a>
          </h4>
<p id="section-3.1.2-1">The reflection is the process that enables the bouncing of the delay
sample between client and server.  The behavior of the two endpoints
is slightly different.  With the exception of the client that, as
previously exposed, generates a new delay sample, by default the
delay bit is set to 0.<a href="#section-3.1.2-1" class="pilcrow">¶</a></p>
<p id="section-3.1.2-2">Server side reflection: when a packet with the delay bit set to 1
arrives, the server marks the first packet in the opposite direction
as the delay sample, if it has the same spin bit value.  While if it
has the opposite spin bit value this sample is considered lost.<a href="#section-3.1.2-2" class="pilcrow">¶</a></p>
<p id="section-3.1.2-3">Client side reflection: when a packet with delay bit set to 1
arrives, the client marks the first packet in the opposite direction
as the delay sample, if it has the opposite spin bit value.  While if
it has the same spin bit value this sample is considered lost.<a href="#section-3.1.2-3" class="pilcrow">¶</a></p>
<p id="section-3.1.2-4">In both cases, if the outgoing marked packet is transmitted with a
delay greater than a predetermined threshold after the reception of
the incoming delay sample (1ms by default), reflection is aborted and
this sample is considered lost.<a href="#section-3.1.2-4" class="pilcrow">¶</a></p>
<p id="section-3.1.2-5">Note that reflection takes place for the packet that is carrying the
delay bit regardless of its position within the period.  For this
reason it is necessary to introduce that condition of validation in
order to identify and discard those samples that, due to reordering,
might move to a contiguous period.  Furthermore, by introducing a
threshold for the retransmission delay of the sample, it is possible
to eliminate all those measurements which, due to lack of traffic on
the endpoints, would be overestimated and not true.  Thus, the
maximum estimation error, without considering any other delays due to
flow control, would amount to twice the threshold (e.g. 2ms) per
measurement, in the worst case.<a href="#section-3.1.2-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="using-the-spin-bit-and-delay-bit-for-hybrid-rtt-measurement">
<section id="section-3.2">
        <h3 id="name-using-the-spin-bit-and-dela">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-using-the-spin-bit-and-dela" class="section-name selfRef">Using the Spin bit and Delay bit for Hybrid RTT Measurement</a>
        </h3>
<p id="section-3.2-1">Unlike what happens with the spin bit for which it is necessary to
validate or at least heuristically evaluate the goodness of an edge,
the delay sample can be used by an intermediate observer as a simple
demarcation between a period and the following one eliminating the
ambiguities on the calculation of the RTT found with the analysis of
the spin-bit only.  The measurement types, that can be done from the
observation of the delay sample, are exactly the same achievable with
the spin bit only.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<div id="end-to-end-rtt-measurement">
<section id="section-3.2.1">
          <h4 id="name-end-to-end-rtt-measurement">
<a href="#section-3.2.1" class="section-number selfRef">3.2.1. </a><a href="#name-end-to-end-rtt-measurement" class="section-name selfRef">End-to-end RTT measurement</a>
          </h4>
<p id="section-3.2.1-1">The delay sample generation process ensures that only one packet
marked with the delay bit set to 1 runs back and forth on the wire
between two endpoints per round trip time.  Therefore, in order to
determine the end-to-end RTT measurement of a flow, an on-path
passive observer can simply compute the time difference between two
delay samples observed in a single direction.  Note that a
measurement, to be valid, must take into account the difference in
time between the timestamps of two consecutive delay samples
belonging to adjacent spin-bit periods.  For this reason, an
observer, in addition to intercepting and analysing the packets
containing the delay bit set to 1, must maintain awareness of each
spin period in such a way as to be able to assign each delay sample
to its period and, at the same time, identifying those periods that
do not contain it.<a href="#section-3.2.1-1" class="pilcrow">¶</a></p>
<span id="name-figure-2-round-trip-time-bo"></span><figure id="figure-2">
            <div class="artwork art-text alignLeft" id="section-3.2.1-2.1">
<pre>
           =======================|======================&gt;
           = **********     -----Obs----&gt;     ********** =
           = * Client *                       * Server * =
           = **********     &lt;------------     ********** =
           &lt;==============================================

                     (a) client-server RTT

           ==============================================&gt;
           = **********     ------------&gt;     ********** =
           = * Client *                       * Server * =
           = **********     &lt;----Obs-----     ********** =
           &lt;======================|=======================

                     (b) server-client RTT
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-figure-2-round-trip-time-bo" class="selfRef">Figure 2: Round-trip time (both direction)</a>
            </figcaption></figure>
</section>
</div>
<div id="half-rtt-measurement">
<section id="section-3.2.2">
          <h4 id="name-half-rtt-measurement">
<a href="#section-3.2.2" class="section-number selfRef">3.2.2. </a><a href="#name-half-rtt-measurement" class="section-name selfRef">Half-RTT measurement</a>
          </h4>
<p id="section-3.2.2-1">An on-path passive observer that is sniffing traffic in both
directions - from client to server and from server to client - can
also use the delay sample to measure "upstream" and "downstream" RTT
components.  Also known as the half-RTT measurement, it represents
the components of the end-to-end RTT concerning the paths between the
client and the observer (upstream), and the observer and the server
(downstream).  It does this by measuring the delay between a delay
sample observed in the downstream direction and the one observed in
the upstream direction, and vice versa.  Also in this case, it should
verify that the two delay samples belong to two adjacent periods, for
the upstream component, or to the same period for the downstream
component.<a href="#section-3.2.2-1" class="pilcrow">¶</a></p>
<span id="name-figure-3-half-round-trip-ti"></span><figure id="figure-3">
            <div class="artwork art-text alignLeft" id="section-3.2.2-2.1">
<pre>
           =======================&gt;
           = **********     ------|-----&gt;     **********
           = * Client *          Obs          * Server *
           = **********     &lt;-----|------     **********
           &lt;=======================

                  (a) client-observer half-RTT

                                  =======================&gt;
             **********     ------|-----&gt;     ********** =
             * Client *          Obs          * Server * =
             **********     &lt;-----|------     ********** =
                                  &lt;=======================

                  (b) observer-server half-RTT
</pre>
</div>
<figcaption><a href="#figure-3" class="selfRef">Figure 3</a>:
<a href="#name-figure-3-half-round-trip-ti" class="selfRef">Figure 3: Half Round-trip time (both direction)</a>
            </figcaption></figure>
</section>
</div>
<div id="intra-domain-rtt-measurement">
<section id="section-3.2.3">
          <h4 id="name-intra-domain-rtt-measuremen">
<a href="#section-3.2.3" class="section-number selfRef">3.2.3. </a><a href="#name-intra-domain-rtt-measuremen" class="section-name selfRef">Intra-domain RTT measurement</a>
          </h4>
<p id="section-3.2.3-1">Taking advantage of the half-RTT measurements it is also possible to
calculate the intra-domain RTT which is the portion of the entire RTT
used by a flow to traverse the network of a provider (or part of
it).  To achieve this result two observers, able to watch traffic in
both directions, must be employed simultaneously at ingress and
egress of the network to be measured.  At this point, to determine
the delay between the two observers, it is enough to subtract the two
computed upstream (or downstream) RTT components.<a href="#section-3.2.3-1" class="pilcrow">¶</a></p>
<span id="name-figure-4-intra-domain-round"></span><figure id="figure-4">
            <div class="artwork art-text alignLeft" id="section-3.2.3-2.1">
<pre>
        =========================================&gt;
        = =====================&gt;
        = = **********      ---|--&gt;           ---|--&gt;      **********
        = = * Client *         Obs               Obs       * Server *
        = = **********      &lt;--|---           &lt;--|---      **********
        = &lt;=====================
        &lt;=========================================

                 (a) client-observer RTT components (half-RTTs)

                               ==================&gt;
            **********      ---|--&gt;           ---|--&gt;      **********
            * Client *         Obs               Obs       * Server *
            **********      &lt;--|---           &lt;--|---      **********
                               &lt;==================

                 (b) the intra-domain RTT resulting from the
                 subtraction of the above RTT components
</pre>
</div>
<figcaption><a href="#figure-4" class="selfRef">Figure 4</a>:
<a href="#name-figure-4-intra-domain-round" class="selfRef">Figure 4: Intra-domain Round-trip time (client-observer: upstream)</a>
            </figcaption></figure>
<p id="section-3.2.3-3">The spin bit is an alternate marking generated signal and the only
difference than <span>[<a href="#AltMark" class="xref">AltMark</a>]</span> is the size of the alternation
that will change with the flight size each RTT.  So it can be useful
to segment the RTT and deduce the contribution to the RTT of the
portion of the network between two on-path observers and it can be
easily performed by calculating the delay between two or more
measurement points on a single direction by applying <span>[<a href="#AltMark" class="xref">AltMark</a>]</span>.<a href="#section-3.2.3-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="observers-algorithm-and-waiting-interval">
<section id="section-3.3">
        <h3 id="name-observers-algorithm-and-wai">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-observers-algorithm-and-wai" class="section-name selfRef">Observer's algorithm and Waiting Interval</a>
        </h3>
<p id="section-3.3-1">Given below is a formal summary of the functioning of the observer
every time a delay sample is detected.  A packet containing the delay
bit set to 1:<a href="#section-3.3-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.3-2.1">if it has the same spin bit value of the current period and no
delay sample was detected in the previous period, then it can be
used as a left edge (i.e. to start measuring an RTT sample), but
not as a right edge (i.e. to complete and RTT measurement since
the last edge).  If the observation point is symmetric (i.e. it
can see both upstream and downstream packets in the flow) and in
the current period a delay sample was detected in the opposite
direction (i.e. in the upstream direction), the packet can also be
used to compute the downstream RTT component.<a href="#section-3.3-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.3-2.2">if it has the same spin bit value of the current period and a
delay sample was detected in the previous period, then it can be
used at the same time as a left or right edge, and to compute RTT
component in both directions.<a href="#section-3.3-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.3-3">Like stated previously, every time an empty period is detected, the
observer must restart the measurement process and consider the next
delay sample that will come as the beginning of a new measure, then
as a left edge.  As a result, being able to assign the delay sample
to the corresponding spin period becomes a crucial factor for the
proper functioning of the entire algorithm.<a href="#section-3.3-3" class="pilcrow">¶</a></p>
<p id="section-3.3-4">Considering that the division into periods is realized by exploiting
the spin bit square wave, it is easy to understand that the presence
of spurious spin edges - caused by packet reordering - would
inevitably lead the observer to overestimate the amount of periods
actually present in the transmission.  This results in a greater
number of empty periods detected and the consequent decrease of the
actual RTT samples achievable.  Therefore, in order to maximize the
performance of the whole algorithm, the observer must implement a
mechanism to filter out spurious spin edges.<a href="#section-3.3-4" class="pilcrow">¶</a></p>
<p id="section-3.3-5">To face this problem the waiting interval has to be introduced.
Basically, every time a spin bit edge is detected, the observer sets
a time interval during which it rejects every potential spurious
edges observed on the wire.  While, at the end of the interval it
starts again to accept changes in the spin bit value.  This
guarantees a proper protection against the spurious edges in relation
to the size of the interval itself.  For instance, an interval of 5ms
is able to filter out edges that have been reordered by a maximum of
5ms.  Clearly, the mechanism does its job for intervals smaller than
the RTT of the observed connection (if RTT is smaller than the
waiting interval the observer can't measure the RTT).<a href="#section-3.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="adding-a-loss-signal-for-packet-loss-measurement">
<section id="section-4">
      <h2 id="name-adding-a-loss-signal-for-pa">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-adding-a-loss-signal-for-pa" class="section-name selfRef">Adding a Loss signal for Packet loss measurement</a>
      </h2>
<p id="section-4-1">Regarding loss rate measurement, three new algorithms are introduced.<a href="#section-4-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-4-2">
        <li id="section-4-2.1">The first algorithm enables end-to-end round trip loss rate
measurement using a single bit signal called loss bit.<a href="#section-4-2.1" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.2">The second algorithm uses a two bits signal with one bit toggled 
every N outgoing packets and an event bit to signal protocol losses.<a href="#section-4-2.2" class="pilcrow">¶</a>
</li>
        <li id="section-4-2.3">The third algorithm uses a double square signal and <span>[<a href="#AltMark" class="xref">AltMark</a>]</span>
to mark the whole traffic exchanged between endpoints.<a href="#section-4-2.3" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-4-3">The second and third solutions enable different types of measurements 
providing a more complete picture of connection loss events.<a href="#section-4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="single-bit-packet-loss-measurement">
<section id="section-5">
      <h2 id="name-single-bit-packet-loss-meas">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-single-bit-packet-loss-meas" class="section-name selfRef">Single bit Packet Loss Measurement</a>
      </h2>
<p id="section-5-1">It is possible to introduce a mechanism to evaluate also the packet
loss together with the delay measurement.  This can be achieved by
introducing the loss signal, a single bit signal whose purpose is to
mark a variable number of packets (from live traffic) which are
exchanged two times between the endpoints realizing a two round-trip
reflection. A passive on-path observer, placed on whatever direction, 
can trivially count and compare the number of marked packets seen during 
the two reflections estimating statistically the loss rate experienced 
by the connection. The overall exchange comprises:<a href="#section-5-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-2.1">The client first selects, generates and consequent transmits to
the server a first train of packets, by marking the loss bit to 1;<a href="#section-5-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-2.2">The server, upon reception from the client of each one of the
packets included in the first train, reflects to the client a
respective second train of packets of the same size as the first
train received, by marking the loss bit to 1;<a href="#section-5-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-2.3">The client, upon reception from the server of each one of the
packets included in the second train, reflects to the server a
respective third train of packets of the same size as the second
train received, by marking the loss bit to 1;<a href="#section-5-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-5-2.4">The server, upon reception from the client of each one of the
packets included in the third train, finally reflects to the
client a respective fourth train of packets of the same size as
the third train received, by marking the loss bit to 1.<a href="#section-5-2.4" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-5-3">Packets belonging to the first round (first and second train)
represent the Generation Phase while those belonging to the second
round (third and fourth train) represent the Reflection Phase.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">A passive on-path observer, placed on whatever direction, can
trivially count and compare the number of marked packets seen during
the two mentioned phases (i.e. the first and third or the second and
the fourth trains of packets, depending on which direction is
observed) and estimate the loss rate experienced by the connection.
This process is repeated continuously to obtain more measurements as
long as the endpoints exchange traffic.  These measurements can be
called Round Trip(RT) losses<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">The general algorithm shown above gives an idea of its underlying
principles but is not enough to make the whole process working
properly.<a href="#section-5-5" class="pilcrow">¶</a></p>
<p id="section-5-6">Firstly, there is the issue that packet rates in the two directions
may be different.  Therefore, the right number of packets to be
marked has to be chosen in order to avoid their congestion on the
slowest traffic direction.  As a consequence, this number is
inevitably equal to the amount of packets transited, indeed, on the
slowest direction.  This problem can be easily addressed by a method
wherein the two endpoints of a communication exchange marked packets
interleaved with unmarked packets.  From an implementation point of
view, this result can be achieved by introducing a single token
system that adjusts the number of outgoing marked packets.
Basically, the token is enabled every time a packet arrives and
disabled when a marked packet is transmitted.  Since the creation of
the initial train of marked packets is carried out by the client, the
management and use of this single token is also assigned to it, which
in fact "calculates" the correct number of packets to be marked each
time.<a href="#section-5-6" class="pilcrow">¶</a></p>
<p id="section-5-7">Secondly, a mechanism to individually identify each train of packets
must be provided to enable the observer to distinguish between trains
belonging to different phases (Generation and Reflection).<a href="#section-5-7" class="pilcrow">¶</a></p>
<div id="round-trip-packet-loss-measurement">
<section id="section-5.1">
        <h3 id="name-round-trip-packet-loss-meas">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-round-trip-packet-loss-meas" class="section-name selfRef">Round Trip Packet Loss Measurement</a>
        </h3>
<p id="section-5.1-1">Since the measurements are performed on a portion of the traffic
exchanged between client and server, the observer calculates the end-
to-end Round Trip Packet Loss that, statistically, will be equal to
the loss rate experienced by the connection along the entire network
path.  So this measurement can be simply referred as the Round Trip
Packet Loss (RTPL).<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<span id="name-figure-5-round-trip-packet-"></span><figure id="figure-5">
          <div class="artwork art-text alignLeft" id="section-5.1-2.1">
<pre>
           =======================|======================&gt;
           = **********     -----Obs----&gt;     ********** =
           = * Client *                       * Server * =
           = **********     &lt;------------     ********** =
           &lt;==============================================

                     (a) client-server RTPL

           ==============================================&gt;
           = **********     ------------&gt;     ********** =
           = * Client *                       * Server * =
           = **********     &lt;----Obs-----     ********** =
           &lt;======================|=======================

                     (b) server-client RTPL
</pre>
</div>
<figcaption><a href="#figure-5" class="selfRef">Figure 5</a>:
<a href="#name-figure-5-round-trip-packet-" class="selfRef">Figure 5: Round-trip packet loss (both direction)</a>
          </figcaption></figure>
<p id="section-5.1-3">In addition, this methodology allows the Half-RTPL measurement and
the Intra-domain RTPL measurement, in the same way as described in
the previous sections for RTT measurement.<a href="#section-5.1-3" class="pilcrow">¶</a></p>
<span id="name-figure-6half-round-trip-pac"></span><figure id="figure-6">
          <div class="artwork art-text alignLeft" id="section-5.1-4.1">
<pre>
           =======================&gt;
           = **********     ------|-----&gt;     **********
           = * Client *          Obs          * Server *
           = **********     &lt;-----|------     **********
           &lt;=======================

                  (a) client-observer half-RTPL

                                  =======================&gt;
             **********     ------|-----&gt;     ********** =
             * Client *          Obs          * Server * =
             **********     &lt;-----|------     ********** =
                                  &lt;=======================

                  (b) observer-server half-RTPL
</pre>
</div>
<figcaption><a href="#figure-6" class="selfRef">Figure 6</a>:
<a href="#name-figure-6half-round-trip-pac" class="selfRef">Figure 6:Half Round-trip packet loss (both direction)</a>
          </figcaption></figure>
<span id="name-figure-7-intra-domain-round"></span><figure id="figure-7">
          <div class="artwork art-text alignLeft" id="section-5.1-5.1">
<pre>
                           =========================================&gt;
                                             =====================&gt; =
        **********      ---|--&gt;           ---|--&gt;      ********** = =
        * Client *         Obs               Obs       * Server * = =
        **********      &lt;--|---           &lt;--|---      ********** = =
                                             &lt;===================== =
                           &lt;=========================================

             (a) observer-server RTPL components (half-RTPLs)

                           ==================&gt;
        **********      ---|--&gt;           ---|--&gt;      **********
        * Client *         Obs               Obs       * Server *
        **********      &lt;--|---           &lt;--|---      **********
                           &lt;==================

             (b) the intra-domain RTPL resulting from the
             subtraction of the above RTPL components
</pre>
</div>
<figcaption><a href="#figure-7" class="selfRef">Figure 7</a>:
<a href="#name-figure-7-intra-domain-round" class="selfRef">Figure 7: Intra-domain Round-trip packet loss (observer-server)</a>
          </figcaption></figure>
</section>
</div>
<div id="measurement-algorithm">
<section id="section-5.2">
        <h3 id="name-measurement-algorithm">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-measurement-algorithm" class="section-name selfRef">Measurement algorithm</a>
        </h3>
<p id="section-5.2-1">The single bit loss signal, whose basic mechanism was generalized in
the previous section, is implemented using just one bit: marked
packets have this bit set to 1, whereas unmarked ones have it set to
0.  This solution requires a working spin-bit signal used to separate
different trains of packets.  In particular, a "pause" of at least
one empty spin-bit period is introduced between each phase of the
algorithm.  An on-path observer can determine in this way if a phase
(and therefore a train of packets) is ended and a new one is
starting.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">The client is in charge of almost the entire complexity of the
algorithm.  Its task can be summarized in 4 different points:<a href="#section-5.2-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-5.2-3">
          <li id="section-5.2-3.1">The client starts generating marked packets for two consecutive
spin-bit periods; it maintains a generation token that is enabled
every time a packet arrives and disabled when another one is
forwarded.  When this token is disabled, the generation process
is paused (i.e. outgoing packets are transmitted unmarked) and
resumes as soon as its value returns true, and that happens as
soon as a packet is received.  In addition, at the end of the
first spin-bit period spent in generation, the reflection counter
is unlocked to start counting incoming marked packets which will
be later reflected;<a href="#section-5.2-3.1" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-3.2">When the generation is completed, the client waits to see in
input an empty spin-bit period so as to be sure that everyone has
seen at least that empty period.  This one will be used by the
observer as a divider between generated and reflected packets.
During this phase, all the outgoing packets are forwarded with
the loss bit set to 0.  The reflection counter is still
incremented every time a marked packet arrives;<a href="#section-5.2-3.2" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-3.3">The client starts reflecting marked packets until the reflection
counter is zeroed; the generation token is also used (in the same
way) during this phase to avoid congestion on the slowest traffic
direction.  In addition, at the end of the first spin-period
spent in reflection, the reflection counter is locked to avoid
incoming reflected packets incrementing it;<a href="#section-5.2-3.3" class="pilcrow">¶</a>
</li>
          <li id="section-5.2-3.4">When the reflection is completed, the client waits to see in
input an empty spin-bit period so as to be sure that everyone has
seen at least that empty period.  This one will be used by the
observer as a divider between reflected and newly generated
packets.  During this phase, all the outgoing packets are
forwarded with the loss bit set to 0.  The whole process restarts
going back to the first point.<a href="#section-5.2-3.4" class="pilcrow">¶</a>
</li>
        </ol>
<p id="section-5.2-4">As previously anticipated, the server simply reflects each incoming
marked packet sent by the client.  It maintains a simple counter that
is incremented every time a marked packet arrives and decremented
when a marked one is sent in the opposite direction.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<div id="observers-logic-for-one-bit-loss-signal">
<section id="section-5.2.1">
          <h4 id="name-observers-logic-for-one-bit">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-observers-logic-for-one-bit" class="section-name selfRef">Observer's logic for one bit loss signal</a>
          </h4>
<p id="section-5.2.1-1">The on-path observer, placed in any direction, counts marked packets
and separates different trains detecting empty spin-bit periods
between them (one or more).  Then, it simply computes the difference
between a Generation train and a Reflection train to produce a
statistical measurement of the Round Trip Packet Loss (RTPL) and of
the connection end-to-end loss rate.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
<p id="section-5.2.1-2">Here is an example.  Packets are represented by two digits (first one
is the spin bit, second one is the loss bit):<a href="#section-5.2.1-2" class="pilcrow">¶</a></p>
<span id="name-figure-8-one-bit-loss-signa"></span><figure id="figure-8">
            <div class="artwork art-text alignLeft" id="section-5.2.1-3.1">
<pre>
        Generation          Pause           Reflection       Pause
   ____________________ ______________ ____________________ ________
  |                    |              |                    |        |
   01 01 00 01 11 10 11 00 00 10 10 10 01 00 01 01 10 11 10 00 00 10

</pre>
</div>
<figcaption><a href="#figure-8" class="selfRef">Figure 8</a>:
<a href="#name-figure-8-one-bit-loss-signa" class="selfRef">Figure 8: one bit loss signal example</a>
            </figcaption></figure>
<p id="section-5.2.1-4">Note that 5 marked packets have been generated of which 4 reflected.<a href="#section-5.2.1-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="two-bits-packet-loss-measurement-using-loss-event-bit">
<section id="section-6">
      <h2 id="name-two-bits-packet-loss-measur">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-two-bits-packet-loss-measur" class="section-name selfRef">Two Bits Packet Loss Measurement using Loss Event bit</a>
      </h2>
<p id="section-6-1">The draft introduces two bits that are to be present in packets capable of loss
reporting. These are packets that include protocol headers with the loss
bits. Only loss of packets capable of loss reporting is reported using loss
bits. Whenever this specification refers to packets, it is referring only to packets
capable of loss reporting.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="description-of-the-mechanism">
<section id="section-6.1">
        <h3 id="name-description-of-the-mechanis">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-description-of-the-mechanis" class="section-name selfRef">Description of the mechanism</a>
        </h3>
<p id="section-6.1-1">This mechanism is based on the use of two bits:<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-2.1">Q: The "square signal" bit is toggled every N outgoing packets as explained
below in <a href="#squarebit" class="xref">Section 6.1.1</a>.<a href="#section-6.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-6.1-2.2">L: The "Loss event" bit is set to 0 or 1 according to the Unreported Loss
counter, as explained below in <a href="#lossbit" class="xref">Section 6.1.2</a>.<a href="#section-6.1-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-6.1-3">Each endpoint maintains appropriate counters independently and separately for
each separately identifiable flow (each subflow for multipath connections).<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<div id="squarebit">
<section id="section-6.1.1">
          <h4 id="name-setting-the-square-bit-on-o">
<a href="#section-6.1.1" class="section-number selfRef">6.1.1. </a><a href="#name-setting-the-square-bit-on-o" class="section-name selfRef">Setting the square Bit on Outgoing Packets</a>
          </h4>
<p id="section-6.1.1-1">The square Value is initialized to the Initial Q Value (0) and is reflected in
the Q bit of every outgoing packet. The square value is inverted after sending
every N packets (a Q Run). Hence, Q Period is 2*N. The Q bit represents "packet
color" as defined by <span>[<a href="#AltMark" class="xref">AltMark</a>]</span>.  The square Bit can also be called an
Alernate Marking bit.<a href="#section-6.1.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1.1-2">Observation points can estimate the upstream losses by counting the number of
packets during a half period of the square signal, as described in <a href="#usage" class="xref">Section 6.2</a>.<a href="#section-6.1.1-2" class="pilcrow">¶</a></p>
<div id="q-run-length-selection">
<section id="section-6.1.1.1">
            <h5 id="name-q-run-length-selection">
<a href="#section-6.1.1.1" class="section-number selfRef">6.1.1.1. </a><a href="#name-q-run-length-selection" class="section-name selfRef">Q Run Length Selection</a>
            </h5>
<p id="section-6.1.1.1-1">The sender is expected to choose N (Q run length) based on the expected amount
of loss and reordering on the path.  The choice of N strikes a compromise - the
observation could become too unreliable in case of packet reordering and/or
severe loss if N is too small, while short flows may not yield a useful
upstream loss measurement if N is too large (see <a href="#upstreamloss" class="xref">Section 6.2.2</a>).<a href="#section-6.1.1.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1.1.1-2">The value of N MUST be at least 64 and be a power of 2. This requirement allows
an Observer to infer the Q run length by observing one period of the square
signal. It also allows the Observer to identify flows that set the loss bits to
arbitrary values (see <a href="#ossification" class="xref">Section 9</a>).<a href="#section-6.1.1.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1.1.1-3">If the sender does not have sufficient information to make an informed decision
about Q run length, the sender SHOULD use N=64, since this value has been
extensively tried in large-scale field tests and yielded good results.
Alternatively, the sender MAY also choose a random N for each flow,
increasing the chances of using a Q run length that gives the best signal for
some flows.<a href="#section-6.1.1.1-3" class="pilcrow">¶</a></p>
<p id="section-6.1.1.1-4">The sender MUST keep the value of N constant for a given flow.<a href="#section-6.1.1.1-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="lossbit">
<section id="section-6.1.2">
          <h4 id="name-setting-the-loss-event-bit-">
<a href="#section-6.1.2" class="section-number selfRef">6.1.2. </a><a href="#name-setting-the-loss-event-bit-" class="section-name selfRef">Setting the Loss Event Bit on Outgoing Packets</a>
          </h4>
<p id="section-6.1.2-1">The Unreported Loss counter is initialized to 0, and L bit of every outgoing
packet indicates whether the Unreported Loss counter is positive (L=1 if the
counter is positive, and L=0 otherwise).<a href="#section-6.1.2-1" class="pilcrow">¶</a></p>
<p id="section-6.1.2-2">The value of the Unreported Loss counter is decremented every time a packet 
with L=1 is sent.<a href="#section-6.1.2-2" class="pilcrow">¶</a></p>
<p id="section-6.1.2-3">The value of the Unreported Loss counter is incremented for every packet that
the protocol declares lost, using whatever loss detection machinery the protocol
employs. If the protocol is able to rescind the loss determination later, a
positive Unreported Loss counter MAY be decremented due to the rescission, but
it SHOULD NOT become negative due to the rescission.<a href="#section-6.1.2-3" class="pilcrow">¶</a></p>
<p id="section-6.1.2-4">This loss signaling is similar to loss signaling in <span>[<a href="#ConEx" class="xref">ConEx</a>]</span>, except the Loss
Event bit is reporting the exact number of lost packets, whereas Echo Loss bit
in <span>[<a href="#ConEx" class="xref">ConEx</a>]</span> is reporting an approximate number of lost bytes.<a href="#section-6.1.2-4" class="pilcrow">¶</a></p>
<p id="section-6.1.2-5">For protocols, such as TCP (<span>[<a href="#TCP" class="xref">TCP</a>]</span>), that allow network devices to change data
segmentation, it is possible that only a part of the packet is lost. In these
cases, the sender MUST increment Unreported Loss counter by the fraction of the
packet data lost (so Unreported Loss counter may become negative when a packet
with L=1 is sent after a partial packet has been lost).<a href="#section-6.1.2-5" class="pilcrow">¶</a></p>
<p id="section-6.1.2-6">Observation points can estimate the end-to-end loss, as determined by the
upstream endpoint, by counting packets in this direction with the L bit equal to
1, as described in <a href="#usage" class="xref">Section 6.2</a>.<a href="#section-6.1.2-6" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="usage">
<section id="section-6.2">
        <h3 id="name-using-the-loss-bits-for-pas">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-using-the-loss-bits-for-pas" class="section-name selfRef">Using the Loss Bits for Passive Loss Measurement</a>
        </h3>
<div id="endtoendloss">
<section id="section-6.2.1">
          <h4 id="name-end-to-end-loss">
<a href="#section-6.2.1" class="section-number selfRef">6.2.1. </a><a href="#name-end-to-end-loss" class="section-name selfRef">End-To-End Loss</a>
          </h4>
<p id="section-6.2.1-1">The Loss Event bit allows an observer to calculate the end-to-end loss rate by
counting packets with L bit value of 0 and 1 for a given flow. The end-to-end
loss rate is the fraction of packets with L=1.<a href="#section-6.2.1-1" class="pilcrow">¶</a></p>
<p id="section-6.2.1-2">The assumption here is that upstream loss affects packets with L=0 and L=1
equally. If some loss is caused by tail-drop in a network device, this may be a
simplification.  If the sender's congestion controller reduces the packet send
rate after loss, there may be a sufficient delay before sending packets with L=1
that they have a greater chance of arriving at the observer.<a href="#section-6.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="upstreamloss">
<section id="section-6.2.2">
          <h4 id="name-upstream-loss">
<a href="#section-6.2.2" class="section-number selfRef">6.2.2. </a><a href="#name-upstream-loss" class="section-name selfRef">Upstream Loss</a>
          </h4>
<p id="section-6.2.2-1">Blocks of N (Q Run length) consecutive packets are sent with the same value of
the Q bit, followed by another block of N packets with an inverted value of the
Q bit. Hence, knowing the value of N, an on-path observer can estimate the
amount of upstream loss after observing at least N packets.  The upstream loss
rate (<code>u</code>) is one minus the average number of packets in a block of packets with
the same Q value (<code>p</code>) divided by N (<code>u=1-avg(p)/N</code>).<a href="#section-6.2.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2.2-2">The observer needs to be able to tolerate packet reordering that can blur the
edges of the square signal.<a href="#section-6.2.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2.2-3">The observer needs to differentiate packets as belonging to different
flows, since they use independent counters.<a href="#section-6.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="losscorrelation">
<section id="section-6.2.3">
          <h4 id="name-correlating-end-to-end-and-">
<a href="#section-6.2.3" class="section-number selfRef">6.2.3. </a><a href="#name-correlating-end-to-end-and-" class="section-name selfRef">Correlating End-to-End and Upstream Loss</a>
          </h4>
<p id="section-6.2.3-1">Upstream loss is calculated by observing packets that did not suffer the
upstream loss. End-to-end loss, however, is calculated by observing subsequent
packets after the sender's protocol detected the loss.  Hence, end-to-end loss
is generally observed with a delay of between 1 RTT (loss declared due to
multiple duplicate acknowledgements) and 1 RTO (loss declared due to a timeout)
relative to the upstream loss.<a href="#section-6.2.3-1" class="pilcrow">¶</a></p>
<p id="section-6.2.3-2">The flow RTT can sometimes be estimated by timing protocol handshake
messages. This RTT estimate can be greatly improved by observing a dedicated
protocol mechanism for conveying RTT information, such as the Latency Spin bit
of <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-6.2.3-2" class="pilcrow">¶</a></p>
<p id="section-6.2.3-3">Whenever the observer needs to perform a computation that uses both upstream and
end-to-end loss rate measurements, it SHOULD use upstream loss rate leading the
end-to-end loss rate by approximately 1 RTT. If the observer is unable to
estimate RTT of the flow, it should accumulate loss measurements over time
periods of at least 4 times the typical RTT for the observed flows.<a href="#section-6.2.3-3" class="pilcrow">¶</a></p>
<p id="section-6.2.3-4">If the calculated upstream loss rate exceeds the end-to-end loss rate calculated
in <a href="#endtoendloss" class="xref">Section 6.2.1</a>, then either the Q Period is too short for the amount of
packet reordering or there is observer loss, described in <a href="#observerloss" class="xref">Section 6.2.5</a>. If
this happens, the observer SHOULD adjust the calculated upstream loss rate to
match end-to-end loss rate.<a href="#section-6.2.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="downstreamloss">
<section id="section-6.2.4">
          <h4 id="name-downstream-loss">
<a href="#section-6.2.4" class="section-number selfRef">6.2.4. </a><a href="#name-downstream-loss" class="section-name selfRef">Downstream Loss</a>
          </h4>
<p id="section-6.2.4-1">Because downstream loss affects only those packets that did not suffer upstream
loss, the end-to-end loss rate (<code>e</code>) relates to the upstream loss rate (<code>u</code>) and
downstream loss rate (<code>d</code>) as <code>(1-u)(1-d)=1-e</code>. Hence, <code>d=(e-u)/(1-u)</code>.<a href="#section-6.2.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="observerloss">
<section id="section-6.2.5">
          <h4 id="name-observer-loss">
<a href="#section-6.2.5" class="section-number selfRef">6.2.5. </a><a href="#name-observer-loss" class="section-name selfRef">Observer Loss</a>
          </h4>
<p id="section-6.2.5-1">A typical deployment of a passive observation system includes a network tap
device that mirrors network packets of interest to a device that performs
analysis and measurement on the mirrored packets. The observer loss is the loss
that occurs on the mirror path.<a href="#section-6.2.5-1" class="pilcrow">¶</a></p>
<p id="section-6.2.5-2">Observer loss affects upstream loss rate measurement since it causes the
observer to account for fewer packets in a block of identical Q bit values (see
{{upstreamloss)}). The end-to-end loss rate measurement, however, is unaffected
by the observer loss, since it is a measurement of the fraction of packets with
the set L bit value, and the observer loss would affect all packets equally
(see <a href="#endtoendloss" class="xref">Section 6.2.1</a>).<a href="#section-6.2.5-2" class="pilcrow">¶</a></p>
<p id="section-6.2.5-3">The need to adjust the upstream loss rate down to match end-to-end loss rate as
described in <a href="#losscorrelation" class="xref">Section 6.2.3</a> is a strong indication of the observer loss,
whose magnitude is between the amount of such adjustment and the entirety of the
upstream loss measured in <a href="#upstreamloss" class="xref">Section 6.2.2</a>. Alternatively, a high apparent
upstream loss rate could be an indication of significant reordering, possibly
due to packets belonging to a single flow being multiplexed over several
upstream paths with different latency characteristics.<a href="#section-6.2.5-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="two-bits-packet-loss-measurement-using-alternate-marking">
<section id="section-7">
      <h2 id="name-two-bits-packet-loss-measure">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-two-bits-packet-loss-measure" class="section-name selfRef">Two Bits Packet Loss Measurement using Alternate Marking</a>
      </h2>
<p id="section-7-1">An alternative methodology, based on the classical alternate marking
<span>[<a href="#AltMark" class="xref">AltMark</a>]</span>, can be deployed to enable passive packet loss
measurement in a connection oriented communication.  This section
explains its fundamentals and all the metrics that can be achieved by
exploiting this mechanism.<a href="#section-7-1" class="pilcrow">¶</a></p>
<div id="description-of-the-mechanism-1">
<section id="section-7.1">
        <h3 id="name-description-of-the-mechanism">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-description-of-the-mechanism" class="section-name selfRef">Description of the mechanism</a>
        </h3>
<p id="section-7.1-1">This mechanism is also based on the use of two bits but differently 
from the previous one. Two loss bits can be introduced:<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-2.1">Square Bit (Q): this bit is toggled every N outgoing packets
generating a square signal as already seen in the alternate
marking methodology <span>[<a href="#AltMark" class="xref">AltMark</a>]</span>.<a href="#section-7.1-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.1-2.2">Reflection Square Bit (R): this bit is used to reflect the
incoming square signal (the one generated by the opposite
endpoint) according to the algorithm explained in next Section; in
a nutshell, it is used to report the losses found in the opposite
transmission channel.<a href="#section-7.1-2.2" class="pilcrow">¶</a>
</li>
        </ul>
<div id="setting-the-square-bit-q-on-outgoing-packets">
<section id="section-7.1.1">
          <h4 id="name-setting-the-square-bit-q-on">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-setting-the-square-bit-q-on" class="section-name selfRef">Setting the square bit (Q) on outgoing packets</a>
          </h4>
<p id="section-7.1.1-1">The square value is initialized to 0 and is applied to the Q-bit of
every outgoing packet.  The square value is toggled after sending N
packets (e.g. 64).  By doing so, each endpoint splits its outgoing
traffic into blocks of N packets with different "packet color" as
defined by <span>[<a href="#AltMark" class="xref">AltMark</a>]</span>.  A single block of N packets is called
"marking period".  Observation points can estimate upstream losses by
counting the number of packets included in a marking period of the
produced square signal.<a href="#section-7.1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="setting-the-reflection-square-bit-r-on-outgoing-packets">
<section id="section-7.1.2">
          <h4 id="name-setting-the-reflection-squa">
<a href="#section-7.1.2" class="section-number selfRef">7.1.2. </a><a href="#name-setting-the-reflection-squa" class="section-name selfRef">Setting the reflection square bit (R) on outgoing packets</a>
          </h4>
<p id="section-7.1.2-1">Unlike the square signal for which packets are transmitted into
blocks of fixed size, the Reflection square signal (being an
alternate marking signal too) produces blocks of packets whose size
varies according to these simple rules:<a href="#section-7.1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1.2-2.1">when the transmission of a new block starts, its size is set equal
to the size of the last marking period whose reception has been
completed;<a href="#section-7.1.2-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.2-2.2">if, before transmission of the block is terminated, the reception
of at least one further marking period is completed, the size of
the block is updated to the average size of the further received
marking periods.  Implementation details follow.<a href="#section-7.1.2-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-7.1.2-3">The Reflection square value is initialized to 0 and is applied to the
R-bit of every outgoing packet.  The Reflection square value is
toggled for the first time when the completion of a marking period is
detected in the incoming square signal (produced by the opposite node
using the Q-bit).  When this happens, the number of packets (p),
detected within this first marking period, is used to generate a
reflection square signal which toggles every M=p packets (at first).
This new signal produces blocks of M packets (marked using the R-bit)
and each of them is called "reflection marking period".<a href="#section-7.1.2-3" class="pilcrow">¶</a></p>
<p id="section-7.1.2-4">The M value is then updated every time a completed marking period in
the incoming square signal is received, following this formula:
M=round(avg(p)).<a href="#section-7.1.2-4" class="pilcrow">¶</a></p>
<p id="section-7.1.2-5">The parameter avg(p) is the average number of packets in a marking
period computed considering all the marking periods received since
the beginning of the current reflection marking period.<a href="#section-7.1.2-5" class="pilcrow">¶</a></p>
<p id="section-7.1.2-6">Looking at the R-bit, observation points have clear indication of
losses experienced by the entire opposite channel plus those occurred
in the path from the sender up to them (if losses occur in this
latter portion of path).<a href="#section-7.1.2-6" class="pilcrow">¶</a></p>
<div id="determining-the-completion-of-an-incoming-marking-period">
<section id="section-7.1.2.1">
            <h5 id="name-determining-the-completion-">
<a href="#section-7.1.2.1" class="section-number selfRef">7.1.2.1. </a><a href="#name-determining-the-completion-" class="section-name selfRef">Determining the completion of an incoming marking period</a>
            </h5>
<p id="section-7.1.2.1-1">A simple square bit transition cannot be used to determine the
completion of a marking period.  Indeed, packet reordering can lead
to the generation of spurious edges in the square signal.  To address
this problem, a marking period is considered ended when at least X
packets (e.g. 5) with reverse marking (i.e. belonging to the
following marking period) have been received.<a href="#section-7.1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1.2.1-2">This same approach can be used by observation points to clean both
square and Reflection square signals.<a href="#section-7.1.2.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="observers-logic-and-passive-loss-measurements">
<section id="section-7.2">
        <h3 id="name-observers-logic-and-passive">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-observers-logic-and-passive" class="section-name selfRef">Observer's logic and Passive Loss Measurements</a>
        </h3>
<p id="section-7.2-1">Since both square and Reflection square bits are toggled at most
every N packets (except for the first transition of the R-bit as
explained before), an on-path observer can trivially count the number
of packets of each marking block and, knowing the value of N, can
estimate the amount of loss experienced by the connection.  Different
metrics can be measured depending on which direction the observer is
looking to.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">One direction observer:<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-3.1">upstream one-way loss: the loss between the sender and the
observation point<a href="#section-7.2-3.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-3.2">"three-quarters" connection loss: the loss between the receiver
and the sender in the opposite direction plus the loss between the
sender and the observation point in the observed direction<a href="#section-7.2-3.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-3.3">full one-way loss in the opposite direction: the loss between the
receiver and the sender in the opposite direction<a href="#section-7.2-3.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-7.2-4">Two directions observer (same metrics seen previously applied to both
direction, plus):<a href="#section-7.2-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2-5.1">client-observer half round-trip loss: the loss between the client
and the observation point in both directions<a href="#section-7.2-5.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-5.2">observer-server half round-trip loss: the loss between the
observation point and the server in both directions<a href="#section-7.2-5.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-7.2-5.3">downstream one-way loss: the loss between the observation point
and the receiver (valid for both directions)<a href="#section-7.2-5.3" class="pilcrow">¶</a>
</li>
        </ul>
<div id="upstream-one-way-loss">
<section id="section-7.2.1">
          <h4 id="name-upstream-one-way-loss">
<a href="#section-7.2.1" class="section-number selfRef">7.2.1. </a><a href="#name-upstream-one-way-loss" class="section-name selfRef">Upstream one-way loss</a>
          </h4>
<p id="section-7.2.1-1">Since packets are continuously Q-bit marked into alternate blocks of
size N, knowing the value of N, an on-path observer can estimate the
amount of loss occurred from the sender up to it after observing at
least N packets.  The upstream one-way loss rate ("uowl") is one
minus the average number of packets in a block of packets with the
same Q value ("p") divided by N ("uowl=1-avg(p)/N").<a href="#section-7.2.1-1" class="pilcrow">¶</a></p>
<span id="name-figure-9-upstream-one-way-l"></span><figure id="figure-9">
            <div class="artwork art-text alignLeft" id="section-7.2.1-2.1">
<pre>
          =====================&gt;
          **********     -----Obs----&gt;     **********
          * Client *                       * Server *
          **********     &lt;------------     **********

            (a) in client-server channel (uowl_up)

          **********     ------------&gt;     **********
          * Client *                       * Server *
          **********     &lt;----Obs-----     **********
                               &lt;=====================

            (b) in server-client channel (uowl_down)
</pre>
</div>
<figcaption><a href="#figure-9" class="selfRef">Figure 9</a>:
<a href="#name-figure-9-upstream-one-way-l" class="selfRef">Figure 9: Upstream one-way loss</a>
            </figcaption></figure>
</section>
</div>
<div id="three-quarters-connection-loss">
<section id="section-7.2.2">
          <h4 id="name-three-quarters-connection-l">
<a href="#section-7.2.2" class="section-number selfRef">7.2.2. </a><a href="#name-three-quarters-connection-l" class="section-name selfRef">Three-quarters connection loss</a>
          </h4>
<p id="section-7.2.2-1">Except for the very first block in which there is nothing to reflect
(a complete marking period has not been yet received), packets are
continuously R-bit marked into alternate blocks of size lower or
equal than N.  Knowing the value of N, an on-path observer can
estimate the amount of loss occurred in the whole opposite channel
plus the loss from the sender up to it in the observation channel.
As for the previous metric, the "three-quarters" connection loss rate
("tql") is one minus the average number of packets in a block of
packets with the same R value ("t") divided by N ("tql=1-avg(t)/N").<a href="#section-7.2.2-1" class="pilcrow">¶</a></p>
<span id="name-figure-10-three-quarters-co"></span><figure id="figure-10">
            <div class="artwork art-text alignLeft" id="section-7.2.2-2.1">
<pre>
        =======================&gt;
        = **********     -----Obs----&gt;     **********
        = * Client *                       * Server *
        = **********     &lt;------------     **********
        &lt;============================================

            (a) in client-server channel (tql_up)

          ============================================&gt;
          **********     ------------&gt;     ********** =
          * Client *                       * Server * =
          **********     &lt;----Obs-----     ********** =
                               &lt;=======================

            (b) in server-client channel (tql_down)
</pre>
</div>
<figcaption><a href="#figure-10" class="selfRef">Figure 10</a>:
<a href="#name-figure-10-three-quarters-co" class="selfRef">Figure 10: Three-quarters connection loss</a>
            </figcaption></figure>
<p id="section-7.2.2-3">The following metrics derive from these first two metrics.<a href="#section-7.2.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="full-one-way-loss-in-the-opposite-direction">
<section id="section-7.2.3">
          <h4 id="name-full-one-way-loss-in-the-op">
<a href="#section-7.2.3" class="section-number selfRef">7.2.3. </a><a href="#name-full-one-way-loss-in-the-op" class="section-name selfRef">Full one-way loss in the opposite direction</a>
          </h4>
<p id="section-7.2.3-1">Using the previous metrics, full one-way loss can be computed:<a href="#section-7.2.3-1" class="pilcrow">¶</a></p>
<p id="section-7.2.3-2">fowl_down = tql_up - uowl_up<a href="#section-7.2.3-2" class="pilcrow">¶</a></p>
<p id="section-7.2.3-3">fowl_up = tql_down - uowl_down<a href="#section-7.2.3-3" class="pilcrow">¶</a></p>
<span id="name-figure-11-full-one-way-loss"></span><figure id="figure-11">
            <div class="artwork art-text alignLeft" id="section-7.2.3-4.1">
<pre>
          **********     -----Obs----&gt;     **********
          * Client *                       * Server *
          **********     &lt;------------     **********
          &lt;==========================================

            (a) in client-server channel (fowl_down)

          ==========================================&gt;
          **********     ------------&gt;     **********
          * Client *                       * Server *
          **********     &lt;----Obs-----     **********

            (b) in server-client channel (fowl_up)
</pre>
</div>
<figcaption><a href="#figure-11" class="selfRef">Figure 11</a>:
<a href="#name-figure-11-full-one-way-loss" class="selfRef">Figure 11: Full one-way loss in the opposite direction</a>
            </figcaption></figure>
</section>
</div>
<div id="half-round-trip-loss">
<section id="section-7.2.4">
          <h4 id="name-half-round-trip-loss">
<a href="#section-7.2.4" class="section-number selfRef">7.2.4. </a><a href="#name-half-round-trip-loss" class="section-name selfRef">Half round-trip loss</a>
          </h4>
<p id="section-7.2.4-1">Using the previous metrics, the two half round-trip loss measurements
can be computed:<a href="#section-7.2.4-1" class="pilcrow">¶</a></p>
<p id="section-7.2.4-2">hrtl_co = tql_up - uowl_down<a href="#section-7.2.4-2" class="pilcrow">¶</a></p>
<p id="section-7.2.4-3">hrtl_os = tql_down - uowl_up<a href="#section-7.2.4-3" class="pilcrow">¶</a></p>
<span id="name-figure-12-half-round-trip-l"></span><figure id="figure-12">
            <div class="artwork art-text alignLeft" id="section-7.2.4-4.1">
<pre>
        =======================&gt;
        = **********     ------|-----&gt;     **********
        = * Client *          Obs          * Server *
        = **********     &lt;-----|------     **********
        &lt;=======================

            (a) client-observer half round-trip loss (hrtl_co)

                               =======================&gt;
          **********     ------|-----&gt;     ********** =
          * Client *          Obs          * Server * =
          **********     &lt;-----|------     ********** =
                               &lt;=======================

            (b) observer-server half round-trip loss (hrtl_os)
</pre>
</div>
<figcaption><a href="#figure-12" class="selfRef">Figure 12</a>:
<a href="#name-figure-12-half-round-trip-l" class="selfRef">Figure 12: Half Round-trip loss (both direction)</a>
            </figcaption></figure>
</section>
</div>
<div id="downstream-one-way-loss">
<section id="section-7.2.5">
          <h4 id="name-downstream-one-way-loss">
<a href="#section-7.2.5" class="section-number selfRef">7.2.5. </a><a href="#name-downstream-one-way-loss" class="section-name selfRef">Downstream one-way loss</a>
          </h4>
<p id="section-7.2.5-1">Using the previous metrics, downstream one-way loss can be computed:<a href="#section-7.2.5-1" class="pilcrow">¶</a></p>
<p id="section-7.2.5-2">dowl_up = hrtl_os - uowl_down<a href="#section-7.2.5-2" class="pilcrow">¶</a></p>
<p id="section-7.2.5-3">dowl_down = hrtl_co - uowl_up<a href="#section-7.2.5-3" class="pilcrow">¶</a></p>
<span id="name-figure-13-downstream-one-wa"></span><figure id="figure-13">
            <div class="artwork art-text alignLeft" id="section-7.2.5-4.1">
<pre>
                               =====================&gt;
          **********     ------|-----&gt;     **********
          * Client *          Obs          * Server *
          **********     &lt;-----|------     **********

             (a) in client-server channel (dowl_up)

          **********     ------|-----&gt;     **********
          * Client *          Obs          * Server *
          **********     &lt;-----|------     **********
          &lt;=====================

             (b) in server-client channel (dowl_down)
</pre>
</div>
<figcaption><a href="#figure-13" class="selfRef">Figure 13</a>:
<a href="#name-figure-13-downstream-one-wa" class="selfRef">Figure 13: Downstream one-way loss</a>
            </figcaption></figure>
</section>
</div>
</section>
</div>
<div id="enhancement-of-reflection-period-size-computation">
<section id="section-7.3">
        <h3 id="name-enhancement-of-reflection-p">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-enhancement-of-reflection-p" class="section-name selfRef">Enhancement of reflection period size computation</a>
        </h3>
<p id="section-7.3-1">The use of the rounding function used in the M computation introduces
errors.  However, these errors can be minimized by storing the
rounding applied each time M is computed, and using it during the
computation of the M value in the following reflection marking
period.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">This can be achieved introducing the new r_avg parameter in the
previous M formula.  The new formula is M=round(avg(p)+r_avg) where
r_avg is computed as not rounded M minus rounded M; its initial value
is equal to 0.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="improvement-of-the-resilience-to-out-of-sequence">
<section id="section-7.4">
        <h3 id="name-improvement-of-the-resilien">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-improvement-of-the-resilien" class="section-name selfRef">Improvement of the resilience to out of sequence</a>
        </h3>
<p id="section-7.4-1">Since endpoints have clear indication about reordered packets, we can
use this information to absorb out of sequences in the incoming
square wave, even when the marking period threshold (see 7.2.1
Section) has been reached.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<p id="section-7.4-2">This can be achieved by updating the size of the current reflection
block while this is being transmitted.  The reflection block size is
then updated every time an incoming reordered packet of the previous
marking period is detected.  This can be done if and only if the
transmission of the current reflection block is in progress and no
packets of the following marking period (Q-bit) have been received.<a href="#section-7.4-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ecn-echo">
<section id="section-8">
      <h2 id="name-ecn-echo-event-bit">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-ecn-echo-event-bit" class="section-name selfRef">ECN-Echo Event Bit</a>
      </h2>
<p id="section-8-1">While the primary focus of the draft is on exposing packet loss and delay, 
modern networks can report congestion before they are forced to drop packets, 
as described in <span>[<a href="#ECN" class="xref">ECN</a>]</span>. When transport protocols keep ECN-Echo feedback under 
encryption, this signal cannot be observed by the network operators. When tasked 
with diagnosing network performance problems, knowledge of a congestion downstream 
of an observation point can be instrumental.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">If downstream congestion information is desired, this information can be
signaled with an additional bit.<a href="#section-8-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8-3.1">E: The "ECN-Echo Event" bit is set to 0 or 1 according to the Unreported ECN
Echo counter, as explained below in <a href="#ecnbit" class="xref">Section 8.1</a>.<a href="#section-8-3.1" class="pilcrow">¶</a>
</li>
      </ul>
<div id="ecnbit">
<section id="section-8.1">
        <h3 id="name-setting-the-ecn-echo-event-">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-setting-the-ecn-echo-event-" class="section-name selfRef">Setting the ECN-Echo Event Bit on Outgoing Packets</a>
        </h3>
<p id="section-8.1-1">The Unreported ECN-Echo counter operates identically to Unreported Loss counter
(<a href="#lossbit" class="xref">Section 6.1.2</a>), except it counts packets delivered by the network with CE
markings, according to the ECN-Echo feedback from the receiver.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">This ECN-Echo signaling is similar to ECN signaling in <span>[<a href="#ConEx" class="xref">ConEx</a>]</span>. ECN-Echo
mechanism in QUIC provides the number of packets received with CE marks. For
protocols like TCP, the method described in <span>[<a href="#ConEx-TCP" class="xref">ConEx-TCP</a>]</span> can be employed. As
stated in <span>[<a href="#ConEx-TCP" class="xref">ConEx-TCP</a>]</span>, such feedback can be further improved using a method
described in <span>[<a href="#ACCURATE" class="xref">ACCURATE</a>]</span>.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ech-usage">
<section id="section-8.2">
        <h3 id="name-using-e-bit-for-passive-ecn">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-using-e-bit-for-passive-ecn" class="section-name selfRef">Using E Bit for Passive ECN-Reported Congestion Measurement</a>
        </h3>
<p id="section-8.2-1">A network observer can count packets with CE codepoint and determine the
upstream CE-marking rate directly.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">Observation points can also estimate ECN-reported end-to-end congestion by
counting packets in this direction with a E bit equal to 1.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<p id="section-8.2-3">The upstream CE-marking rate and end-to-end ECN-reported congestion can provide
information about downstream CE-marking rate. Presence of E bits along with L
bits, however, can somewhat confound precise estimates of upstream and
downstream CE-markings in case the flow contains packets that are not
ECN-capable.<a href="#section-8.2-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ossification">
<section id="section-9">
      <h2 id="name-protocol-ossification-consi">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-protocol-ossification-consi" class="section-name selfRef">Protocol Ossification Considerations</a>
      </h2>
<p id="section-9-1">Accurate loss and delay information is not critical to the operation of any protocol,
though its presence for a sufficient number of flows is important for the
operation of networks.<a href="#section-9-1" class="pilcrow">¶</a></p>
<p id="section-9-2">The delay and loss bits are amenable to "greasing" described in <span>[<a href="#RFC8701" class="xref">RFC8701</a>]</span>, if 
the protocol designers are not ready to dedicate (and ossify) bits used for loss
reporting to this function. The greasing could be accomplished similarly to the
Latency Spin bit greasing in <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>. Namely, implementations could
decide that a fraction of flows should not encode loss and delay information and, 
instead, the bits would be set to arbitrary values. The observers would need to be 
ready to ignore flows with delay and loss information more resembling noise 
than the expected signal.<a href="#section-9-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="examples-of-application">
<section id="section-10">
      <h2 id="name-examples-of-application">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-examples-of-application" class="section-name selfRef">Examples of application</a>
      </h2>
<div id="quic">
<section id="section-10.1">
        <h3 id="name-quic">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-quic" class="section-name selfRef">QUIC</a>
        </h3>
<p id="section-10.1-1">The binding of the delay bit signal to QUIC is partially described in
<span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>, which adds the spin bit to the first byte
of the short packet header, leaving two reserved bits for future
experiments.<a href="#section-10.1-1" class="pilcrow">¶</a></p>
<p id="section-10.1-2">To implement the additional signals discussed in this document, the
first byte of the short packet header can be modified as follows:<a href="#section-10.1-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-10.1-3.1">the delay bit (D) can be placed in the first reserved bit (i.e.
the fourth most significant bit <em>0x10</em>) while the loss bit in the
second reserved bit (i.e. the fifth most significant bit <em>0x08</em>);
the proposed scheme is:<a href="#section-10.1-3.1" class="pilcrow">¶</a>
</li>
        </ul>
<span id="name-figuire-14-scheme-1"></span><figure id="figure-14">
          <div class="artwork art-text alignLeft" id="section-10.1-4.1">
<pre>
          0 1 2 3 4 5 6 7
         +-+-+-+-+-+-+-+-+
         |0|1|S|D|L|K|P|P|
         +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-14" class="selfRef">Figure 14</a>:
<a href="#name-figuire-14-scheme-1" class="selfRef">Figuire 14: scheme 1</a>
          </figcaption></figure>
<ul class="normal">
<li class="normal" id="section-10.1-5.1">alternatively, the stand-alone two bits loss signal (QR) can be
placed in both reserved bits; the proposed scheme, in this case,
is:<a href="#section-10.1-5.1" class="pilcrow">¶</a>
</li>
        </ul>
<span id="name-figure-15-scheme-2"></span><figure id="figure-15">
          <div class="artwork art-text alignLeft" id="section-10.1-6.1">
<pre>
          0 1 2 3 4 5 6 7
         +-+-+-+-+-+-+-+-+
         |0|1|S|Q|R|K|P|P|
         +-+-+-+-+-+-+-+-+
</pre>
</div>
<figcaption><a href="#figure-15" class="selfRef">Figure 15</a>:
<a href="#name-figure-15-scheme-2" class="selfRef">Figure 15: scheme 2</a>
          </figcaption></figure>
</section>
</div>
<div id="tcp">
<section id="section-10.2">
        <h3 id="name-tcp">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-tcp" class="section-name selfRef">TCP</a>
        </h3>
<p id="section-10.2-1">The signals can be added to TCP by defining bit 4 of bytes 13-14 of
the TCP header to carry the spin bit, and eventually bits 5 and 6 to
carry additional information, like the delay bit and the 1 bit loss
signal (or the two bits loss signal).<a href="#section-10.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-11">
      <h2 id="name-security-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-11-1">Passive loss and delay observations have been a part of the network operations for a long
time, so exposing loss and delay information to the network does not add new security
concerns for protocols that are currently observable.<a href="#section-11-1" class="pilcrow">¶</a></p>
<p id="section-11-2">In the absence of packet loss, Q and R bits signals do not provide any
information that cannot be observed by simply counting packets transiting a
network path. In the presence of packet loss, Q and R bits will disclose
the loss, but this is information about the environment and not the endpoint
state. The L bit signal discloses internal state of the protocol's loss
detection machinery, but this state can often be gleamed by timing packets and
observing congestion controller response.<a href="#section-11-2" class="pilcrow">¶</a></p>
<p id="section-11-3">Hence, loss bits do not provide a viable new mechanism to attack data integrity 
and secrecy.<a href="#section-11-3" class="pilcrow">¶</a></p>
<div id="optimistic-ack-attack">
<section id="section-11.1">
        <h3 id="name-optimistic-ack-attack">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-optimistic-ack-attack" class="section-name selfRef">Optimistic ACK Attack</a>
        </h3>
<p id="section-11.1-1">A defence against an Optimistic ACK Attack, described in <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span>,
involves a sender randomly skipping packet numbers to detect a receiver
acknowledging packet numbers that have never been received. The Q bit signal may
inform the attacker which packet numbers were skipped on purpose and which had
been actually lost (and are, therefore, safe for the attacker to
acknowledge). To use the Q bit for this purpose, the attacker must first receive
at least an entire Q Run of packets, which renders the attack ineffective
against a delay-sensitive congestion controller.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<p id="section-11.1-2">A protocol that is more susceptible to an Optimistic ACK Attack with the loss
signal provided by Q bit and uses a loss-based congestion controller, SHOULD
shorten the current Q Run by the number of skipped packets numbers. For example,
skipping a single packet number will invert the square signal one outgoing
packet sooner.<a href="#section-11.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="privacy-considerations">
<section id="section-12">
      <h2 id="name-privacy-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-privacy-considerations" class="section-name selfRef">Privacy Considerations</a>
      </h2>
<p id="section-12-1">To minimize unintentional exposure of information, loss bits provide an explicit
loss signal - a preferred way to share information per <span>[<a href="#RFC8558" class="xref">RFC8558</a>]</span>.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">New protocols commonly have specific privacy goals, and loss reporting must
ensure that loss information does not compromise those privacy goals. For
example, <span>[<a href="#QUIC-TRANSPORT" class="xref">QUIC-TRANSPORT</a>]</span> allows changing Connection IDs in the middle of a
connection to reduce the likelihood of a passive observer linking old and new
subflows to the same device. A QUIC implementation would need to reset all
counters when it changes the destination (IP address or UDP port) or the
Connection ID used for outgoing packets. It would also need to avoid
incrementing Unreported Loss counter for loss of packets sent to a different
destination or with a different Connection ID.<a href="#section-12-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-13">
      <h2 id="name-iana-considerations">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-13-1">This document makes no request of IANA.<a href="#section-13-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="change-log">
<section id="section-14">
      <h2 id="name-change-log">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<p id="section-14-1">TBD<a href="#section-14-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="contributors">
<section id="section-15">
      <h2 id="name-contributors">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-contributors" class="section-name selfRef">Contributors</a>
      </h2>
<p id="section-15-1">The following people provided relevant contributions to this document:<a href="#section-15-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-15-2.1">Riccardo Sisto, Politecnico di Torino, riccardo.sisto@polito.it<a href="#section-15-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-15-2.2">Marcus Ihlar, Ericsson, marcus.ihlar@ericsson.com<a href="#section-15-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-15-2.3">Jari Arkko, Ericsson, jari.arkko@ericsson.com<a href="#section-15-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-15-2.4">Emile Stephan, Orange, emile.stephan@orange.com<a href="#section-15-2.4" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="acknowledgements">
<section id="section-16">
      <h2 id="name-acknowledgements">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-16-1">TBD<a href="#section-16-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-17">
      <h2 id="name-references">
<a href="#section-17" class="section-number selfRef">17. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-17.1">
        <h3 id="name-normative-references">
<a href="#section-17.1" class="section-number selfRef">17.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="ConEx">[ConEx]</dt>
        <dd>
<span class="refAuthor">Mathis, M.</span><span class="refAuthor"> and B. Briscoe</span>, <span class="refTitle">"Congestion Exposure (ConEx) Concepts, Abstract Mechanism, and Requirements"</span>, <span class="seriesInfo">RFC 7713</span>, <span class="seriesInfo">DOI 10.17487/RFC7713</span>, <time datetime="2015-12" class="refDate">December 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7713">https://www.rfc-editor.org/info/rfc7713</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ConEx-TCP">[ConEx-TCP]</dt>
        <dd>
<span class="refAuthor">Kuehlewind, M., Ed.</span><span class="refAuthor"> and R. Scheffenegger</span>, <span class="refTitle">"TCP Modifications for Congestion Exposure (ConEx)"</span>, <span class="seriesInfo">RFC 7786</span>, <span class="seriesInfo">DOI 10.17487/RFC7786</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7786">https://www.rfc-editor.org/info/rfc7786</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ECN">[ECN]</dt>
        <dd>
<span class="refAuthor">Ramakrishnan, K.</span><span class="refAuthor">, Floyd, S.</span><span class="refAuthor">, and D. Black</span>, <span class="refTitle">"The Addition of Explicit Congestion Notification (ECN) to IP"</span>, <span class="seriesInfo">RFC 3168</span>, <span class="seriesInfo">DOI 10.17487/RFC3168</span>, <time datetime="2001-09" class="refDate">September 2001</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3168">https://www.rfc-editor.org/info/rfc3168</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IP">[IP]</dt>
        <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Internet Protocol"</span>, <span class="seriesInfo">STD 5</span>, <span class="seriesInfo">RFC 791</span>, <span class="seriesInfo">DOI 10.17487/RFC0791</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc791">https://www.rfc-editor.org/info/rfc791</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IPM-Methods">[IPM-Methods]</dt>
        <dd>
<span class="refAuthor">Morton, A.</span>, <span class="refTitle">"Active and Passive Metrics and Methods (with Hybrid Types In-Between)"</span>, <span class="seriesInfo">RFC 7799</span>, <span class="seriesInfo">DOI 10.17487/RFC7799</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7799">https://www.rfc-editor.org/info/rfc7799</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IPv6">[IPv6]</dt>
        <dd>
<span class="refAuthor">Deering, S.</span><span class="refAuthor"> and R. Hinden</span>, <span class="refTitle">"Internet Protocol, Version 6 (IPv6) Specification"</span>, <span class="seriesInfo">STD 86</span>, <span class="seriesInfo">RFC 8200</span>, <span class="seriesInfo">DOI 10.17487/RFC8200</span>, <time datetime="2017-07" class="refDate">July 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8200">https://www.rfc-editor.org/info/rfc8200</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8558">[RFC8558]</dt>
        <dd>
<span class="refAuthor">Hardie, T., Ed.</span>, <span class="refTitle">"Transport Protocol Path Signals"</span>, <span class="seriesInfo">RFC 8558</span>, <span class="seriesInfo">DOI 10.17487/RFC8558</span>, <time datetime="2019-04" class="refDate">April 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8558">https://www.rfc-editor.org/info/rfc8558</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TCP">[TCP]</dt>
      <dd>
<span class="refAuthor">Postel, J.</span>, <span class="refTitle">"Transmission Control Protocol"</span>, <span class="seriesInfo">STD 7</span>, <span class="seriesInfo">RFC 793</span>, <span class="seriesInfo">DOI 10.17487/RFC0793</span>, <time datetime="1981-09" class="refDate">September 1981</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc793">https://www.rfc-editor.org/info/rfc793</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-17.2">
        <h3 id="name-informative-references">
<a href="#section-17.2" class="section-number selfRef">17.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="ACCURATE">[ACCURATE]</dt>
        <dd>
<span class="refAuthor">Briscoe, B.</span><span class="refAuthor">, Kuehlewind, M.</span><span class="refAuthor">, and R. Scheffenegger</span>, <span class="refTitle">"More Accurate ECN Feedback in TCP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tcpm-accurate-ecn-11</span>, <time datetime="2020-03-05" class="refDate">5 March 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-tcpm-accurate-ecn-11.txt">http://www.ietf.org/internet-drafts/draft-ietf-tcpm-accurate-ecn-11.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="AltMark">[AltMark]</dt>
        <dd>
<span class="refAuthor">Fioccola, G., Ed.</span><span class="refAuthor">, Capello, A.</span><span class="refAuthor">, Cociglio, M.</span><span class="refAuthor">, Castaldelli, L.</span><span class="refAuthor">, Chen, M.</span><span class="refAuthor">, Zheng, L.</span><span class="refAuthor">, Mirsky, G.</span><span class="refAuthor">, and T. Mizrahi</span>, <span class="refTitle">"Alternate-Marking Method for Passive and Hybrid Performance Monitoring"</span>, <span class="seriesInfo">RFC 8321</span>, <span class="seriesInfo">DOI 10.17487/RFC8321</span>, <time datetime="2018-01" class="refDate">January 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8321">https://www.rfc-editor.org/info/rfc8321</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="ANRW19-PM-QUIC">[ANRW19-PM-QUIC]</dt>
        <dd>
<span class="refAuthor">Bulgarella, F.</span><span class="refAuthor">, Cociglio, M.</span><span class="refAuthor">, Fioccola, G.</span><span class="refAuthor">, Marchetto, G.</span><span class="refAuthor">, and R. Sisto</span>, <span class="refTitle">"Performance measurements of QUIC communications"</span>, <span class="seriesInfo">DOI 10.1145/3340301.3341127</span>, <span class="seriesInfo">Proceedings of the Applied Networking Research Workshop</span>, <time datetime="2019-07" class="refDate">July 2019</time>, <span>&lt;<a href="https://doi.org/10.1145/3340301.3341127">https://doi.org/10.1145/3340301.3341127</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.trammell-ippm-spin">[I-D.trammell-ippm-spin]</dt>
        <dd>
<span class="refAuthor">Trammell, B.</span>, <span class="refTitle">"An Explicit Transport-Layer Signal for Hybrid RTT Measurement"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-trammell-ippm-spin-00</span>, <time datetime="2019-01-09" class="refDate">9 January 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-trammell-ippm-spin-00.txt">http://www.ietf.org/internet-drafts/draft-trammell-ippm-spin-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.trammell-quic-spin">[I-D.trammell-quic-spin]</dt>
        <dd>
<span class="refAuthor">Trammell, B.</span><span class="refAuthor">, Vaere, P.</span><span class="refAuthor">, Even, R.</span><span class="refAuthor">, Fioccola, G.</span><span class="refAuthor">, Fossati, T.</span><span class="refAuthor">, Ihlar, M.</span><span class="refAuthor">, Morton, A.</span><span class="refAuthor">, and S. Emile</span>, <span class="refTitle">"Adding Explicit Passive Measurability of Two-Way Latency to the QUIC Transport Protocol"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-trammell-quic-spin-03</span>, <time datetime="2018-05-14" class="refDate">14 May 2018</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-trammell-quic-spin-03.txt">http://www.ietf.org/internet-drafts/draft-trammell-quic-spin-03.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.trammell-tsvwg-spin">[I-D.trammell-tsvwg-spin]</dt>
        <dd>
<span class="refAuthor">Trammell, B.</span>, <span class="refTitle">"A Transport-Independent Explicit Signal for Hybrid RTT Measurement"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-trammell-tsvwg-spin-00</span>, <time datetime="2018-07-02" class="refDate">2 July 2018</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-trammell-tsvwg-spin-00.txt">http://www.ietf.org/internet-drafts/draft-trammell-tsvwg-spin-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="IPv6AltMark">[IPv6AltMark]</dt>
        <dd>
<span class="refAuthor">Fioccola, G.</span><span class="refAuthor">, Zhou, T.</span><span class="refAuthor">, Cociglio, M.</span><span class="refAuthor">, Qin, F.</span><span class="refAuthor">, and R. Pang</span>, <span class="refTitle">"IPv6 Application of the Alternate Marking Method"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-6man-ipv6-alt-mark-01</span>, <time datetime="2020-06-22" class="refDate">22 June 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-6man-ipv6-alt-mark-01.txt">http://www.ietf.org/internet-drafts/draft-ietf-6man-ipv6-alt-mark-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-TRANSPORT">[QUIC-TRANSPORT]</dt>
        <dd>
<span class="refAuthor">Iyengar, J.</span><span class="refAuthor"> and M. Thomson</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-transport-29</span>, <time datetime="2020-06-09" class="refDate">9 June 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-quic-transport-29.txt">http://www.ietf.org/internet-drafts/draft-ietf-quic-transport-29.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8517">[RFC8517]</dt>
        <dd>
<span class="refAuthor">Dolson, D., Ed.</span><span class="refAuthor">, Snellman, J.</span><span class="refAuthor">, Boucadair, M., Ed.</span><span class="refAuthor">, and C. Jacquenet</span>, <span class="refTitle">"An Inventory of Transport-Centric Functions Provided by Middleboxes: An Operator Perspective"</span>, <span class="seriesInfo">RFC 8517</span>, <span class="seriesInfo">DOI 10.17487/RFC8517</span>, <time datetime="2019-02" class="refDate">February 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8517">https://www.rfc-editor.org/info/rfc8517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8701">[RFC8701]</dt>
        <dd>
<span class="refAuthor">Benjamin, D.</span>, <span class="refTitle">"Applying Generate Random Extensions And Sustain Extensibility (GREASE) to TLS Extensibility"</span>, <span class="seriesInfo">RFC 8701</span>, <span class="seriesInfo">DOI 10.17487/RFC8701</span>, <time datetime="2020-01" class="refDate">January 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8701">https://www.rfc-editor.org/info/rfc8701</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="TRANSPORT-ENCRYPT">[TRANSPORT-ENCRYPT]</dt>
        <dd>
<span class="refAuthor">Fairhurst, G.</span><span class="refAuthor"> and C. Perkins</span>, <span class="refTitle">"Considerations around Transport Header Confidentiality, Network Operations, and the Evolution of Internet Transport Protocols"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tsvwg-transport-encrypt-16</span>, <time datetime="2020-07-13" class="refDate">13 July 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-transport-encrypt-16.txt">http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-transport-encrypt-16.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UDP-OPTIONS">[UDP-OPTIONS]</dt>
        <dd>
<span class="refAuthor">Touch, J.</span>, <span class="refTitle">"Transport Options for UDP"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-tsvwg-udp-options-08</span>, <time datetime="2019-09-12" class="refDate">12 September 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-udp-options-08.txt">http://www.ietf.org/internet-drafts/draft-ietf-tsvwg-udp-options-08.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UDP-SURPLUS">[UDP-SURPLUS]</dt>
      <dd>
<span class="refAuthor">Herbert, T.</span>, <span class="refTitle">"UDP Surplus Header"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-herbert-udp-space-hdr-01</span>, <time datetime="2019-07-08" class="refDate">8 July 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-herbert-udp-space-hdr-01.txt">http://www.ietf.org/internet-drafts/draft-herbert-udp-space-hdr-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="authors-addresses">
<section id="section-appendix.a">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mauro Cociglio</span></div>
<div dir="auto" class="left"><span class="org">Telecom Italia</span></div>
<div dir="auto" class="left"><span class="street-address">Via Reiss Romoli, 274</span></div>
<div dir="auto" class="left">
<span class="postal-code">10148</span> <span class="locality">Torino</span> </div>
<div dir="auto" class="left"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mauro.cociglio@telecomitalia.it" class="email">mauro.cociglio@telecomitalia.it</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Alexandre Ferrieux</span></div>
<div dir="auto" class="left"><span class="org">Orange Labs</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:alexandre.ferrieux@orange.com" class="email">alexandre.ferrieux@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Giuseppe Fioccola</span></div>
<div dir="auto" class="left"><span class="org">Huawei Technologies</span></div>
<div dir="auto" class="left"><span class="street-address">Riesstrasse, 25</span></div>
<div dir="auto" class="left">
<span class="postal-code">80992</span> <span class="locality">Munich</span>
</div>
<div dir="auto" class="left"><span class="country-name">Germany</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:giuseppe.fioccola@huawei.com" class="email">giuseppe.fioccola@huawei.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Igor Lubashev</span></div>
<div dir="auto" class="left"><span class="org">Akamai Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ilubashe@akamai.com" class="email">ilubashe@akamai.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Fabio Bulgarella</span></div>
<div dir="auto" class="left"><span class="org">Telecom Italia</span></div>
<div dir="auto" class="left"><span class="street-address">Via Reiss Romoli, 274</span></div>
<div dir="auto" class="left">
<span class="postal-code">10148</span> <span class="locality">Torino</span> </div>
<div dir="auto" class="left"><span class="country-name">Italy</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:fabio.bulgarella@guest.telecomitalia.it" class="email">fabio.bulgarella@guest.telecomitalia.it</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Isabelle Hamchaoui</span></div>
<div dir="auto" class="left"><span class="org">Orange Labs</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:isabelle.hamchaoui@orange.com" class="email">isabelle.hamchaoui@orange.com</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Massimo Nilo</span></div>
<div dir="auto" class="left"><span class="org">Telecom Italia</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:massimo.nilo@telecomitalia.it" class="email">massimo.nilo@telecomitalia.it</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Dmitri Tikhonov</span></div>
<div dir="auto" class="left"><span class="org">LiteSpeed Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:dtikhonov@litespeedtech.com" class="email">dtikhonov@litespeedtech.com</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
